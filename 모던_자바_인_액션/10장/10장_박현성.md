# __Chapter 10. 람다를 이용한 도메인 전용 언어__
* __DSL__(도메인 전용언어): 범용이 아니라 특정 도메인을 대상으로 만들어진 특수 프로그래밍 언어.

스트림의 API의 특성인 __메서드 체인__ 을 보통 자바의 루프의 복잡함 제어와 
비교해 유창함을 의미하는 __플루언트 스타일__ 이라고 부른다.

## __10.1 도메인 전용 언어__
DSL은 특정 비즈니스 도메인의 문제를 해결하려고 만든 언어다.
DSL은 범용 프로그래밍 언어가 아니다. 동작과 용어는 특정 도메인에 국한되어 오직 자신의 앞에 놓인 문제를 어떻게 해결할지에마 집중할 수 있다.

DSL은 다음의 두 가지 필요성을 생각하면서 개발해야 함.
1. __의사 소통의 왕__: 우리의 코드의 의도가 명확히 전달되어야 하며 프로그래머가 아닌 사람도 이해할 수 있어야 한다.
2. __한 번 코드를 구현하지만 여러 번 읽는다__: 가독성은 유지보수의 핵심. 항상 우리의 동료가 쉽게 이해하도록 코드를 구현해야 한다.

### __10.1.1 DSL의 장점과 단점__
* 장점
    * __간결함__: API는 비즈니스 로직을 간편하게 캡슐화하여 반복을 피할 수 있고 코드를 간결하게 만들 수 있음.
    
    * __가독성__: 도메인 영역의 용어를 사용해 비 도메인 전문가도 코드를 쉽게 이해 가능.
    
    * __유지보수__: 잘 절계된 DSL로 구현한 코드는 쉽게 유지보수하고 바꿀 수 있음.
    
    * __높은 수준의 추상화__: DSL은 도메인과 같은 추상화 수준에서 동작하므로 도메인의 문제와 직접적으로 관련되지 않은 세부 사항을 숨김.
    
    * __집중__: 비즈니스 도메인의 규칙을 표현할 목적으로 설계된 언어라 프로그래머가 특정 코드에 집중할 수 있음. 결과적으로 생산성 향상.
    
    * __관심사분리__: 지정된 언어로 비즈니스 로직을 표현해 애플리케이션의 인프라구조와 관련된 문제와 독립적으로 비즈니스 관련된 코드에서 집중하기 용이함.
    결과적으로 유지보수가 쉬운 코드를 구현함.

* 단점
    * __DSL 설계의 어려움__

    * __개발 비용__

    * __추가 우회 계층__

    * __새로 배워야 하는 언어__

    * __호스팅 언어 한계__: 일부 자바 같은 범용 프로그래밍 언어는 장황하여 이를 기반으로 만든 DSL은 문법의 제약을 받고 읽기 어려움. 
    자바 8의 람다 표현식은 이 문제를 해결할 강력한 새 도구다.

### __10.1.2 JVM에서 이용할 수 있는 다른 DSL 해결책__
* __내부 DSL__
    * 이 책은 자바 언어 책이므로 내부 DSL이란 자바로 구현한 DSL을 의미.

* __순수 자바로 DSL을 구현함으로 얻는 장점__
    * 외부 DSL에 비해 새로운 패턴과 기술을 배워 DSL을 구현하는 노력이 줄어듬.
    * 순수 자바로 DSL을 구현하면 나머지 코드와 함께 DSL을 컴파일 가능.
    * 외부 도구를 배울 필요가 없음.
    * 기존의 자바 IDE를 이용해 자동 완성, 자동 리팩터링 같은 기능을 그대로 즐길 수 있음.
    * 추가 DSL을 쉽게 합칠 수 있음.

* __다중 DSL__
DSL은 기반 프로그래밍 언어의 영향을 받으므로 간결한 DSL을 만드는 데 새로운 언어의 특성들이 아주 중요하다.
특히 __스칼라__ 는 커링, 임의 변환 등 DSL 개발에 필요한 여러 특성을 갖춤.
이러한 이유로 스칼라는 문법적 잡음이 전혀 없으며 개잘바가 아닌 사람도 코드를 쉽게 이해할 수 있다.
하지만 이와 같은 접근 방법도 다음과 같은 불편함을 초래함.
* 새로운 프로그래밍 언어를 배우거나 또는 팀의 누군가가 이미 해당 기술을 가지고 있어야 함.
* 두 개 이상의 언어가 혼재하므로 여러 컴파일러로 소스를 빌드하도록 빌드 과정을 개선해야 함.
* 자바와 호환성이 완벽하지 않을 때가 많음.

* __외부 DSL__



    